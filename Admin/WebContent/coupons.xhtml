<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:sk="http://www.prime.com.tr/sk"
	xmlns:skc="http://java.sun.com/jsf/composite/component"
	template="decorator/adminTemplate.xhtml">

	<ui:define name="title">
		Coupons
	</ui:define>

	<ui:define name="formBody">
		
		<p:tabView id="tabView" orientation="left" dynamic="true">
		    <p:tab title="Shopper Coupons">
		        <p:commandButton value="Add Shopper Coupon" type="button" onclick="shopperCouponDialog.show()"/>
		        <skc:couponTable id="shopperTable" panelId="shopperCouponPanel" couponBean="#{shopperCouponsViewBean}"/>
		    </p:tab>
		    
		    <p:tab title="Category Coupons">
		        <p:commandButton value="Add Category Coupon" type="button" onclick="categoryCouponDialog.show()"/>
		        <skc:couponTable id="categoryTable" panelId="categoryCouponPanel" couponBean="#{categoryCouponsViewBean}"/>
		    </p:tab>
		    
		    <p:tab title="Product Coupons">
		    	<p:commandButton value="Add Product Coupon" type="button" onclick="productCouponDialog.show()"/>
		    	<skc:couponTable id="productTable" panelId="productCouponPanel" couponBean="#{productCouponsViewBean}"/>
		    </p:tab>
		</p:tabView>
		
		<p:dialog modal="true" widgetVar="shopperCouponDialog">
			<skc:couponInputPanel couponHolderLabel="Shopper" couponBean="#{shopperCouponsViewBean}"
									selectedCouponHolder="#{shopperCouponsViewBean.selectedShopper}"
									update=":form:tabView:shopperTable:shopperCouponPanel" dialogWidgetVar="shopperCouponDialog"/>
		</p:dialog>
		
		<p:dialog modal="true" widgetVar="categoryCouponDialog">
			<skc:couponInputPanel couponHolderLabel="Category" couponBean="#{categoryCouponsViewBean}"
									selectedCouponHolder="#{categoryCouponsViewBean.selectedCategory}" 
									update=":form:tabView:categoryTable:categoryCouponPanel" dialogWidgetVar="categoryCouponDialog"/>
		</p:dialog>
		
		<p:dialog modal="true" widgetVar="productCouponDialog">
			<skc:couponInputPanel couponHolderLabel="Product" couponBean="#{productCouponsViewBean}"
									selectedCouponHolder="#{productCouponsViewBean.selectedProduct}" 
									update=":form:tabView:productTable:productCouponPanel" dialogWidgetVar="productCouponDialog"/>
		</p:dialog>
		
	</ui:define>
	
</ui:composition>