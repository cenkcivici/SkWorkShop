<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:sk="http://www.prime.com.tr/sk"
	xmlns:skc="http://java.sun.com/jsf/composite/sk"
	template="decorator/adminTemplate.xhtml">

	<ui:define name="title">
		Coupons
	</ui:define>

	<ui:define name="formBody">
		
		<p:tabView orientation="left" dynamic="true">
		    <p:tab title="Shopper Coupons">
		        <p:commandButton value="Add Shopper Coupon" type="button" onclick="shopperCouponDialog.show()"/>
		        
		        <p:dataTable value="#{shopperCouponsViewBean.coupons}" var="coupon">
		        	
		        	<p:column headerText="Coupon String">
		        		<h:outputText value="#{coupon.couponString}"/>
		        	</p:column>
		        	
		        	<p:column headerText="User">
		        		<h:outputText value="#{coupon.shopper.name}"/>
		        	</p:column>
		        	
		        	<p:column headerText="Discount Amount">
		        		<h:outputText value="#{coupon.discount}"/>
		        	</p:column>
		        	
		        	<p:column headerText="Is Used">
		        		<h:outputText value="#{coupon.used}"/>
		        	</p:column>
		        	
		        </p:dataTable>
		        
		    </p:tab>
		</p:tabView>
		
		<p:dialog modal="true" widgetVar="shopperCouponDialog">
			<p:panelGrid columns="2">
				<p:selectOneMenu value="#{shopperCouponsViewBean.selectedShopper}">
					<f:selectItems value="#{shopperCouponsViewBean.shoppers}" var="shopper" itemValue="#{shopper}" itemLabel="#{shopper.name}"/>
				</p:selectOneMenu>
			</p:panelGrid>
		</p:dialog>
		
	</ui:define>
	
</ui:composition>