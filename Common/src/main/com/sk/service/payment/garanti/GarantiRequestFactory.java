package com.sk.service.payment.garanti;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.stereotype.Component;import com.sk.domain.CreditCardPaymentMethod;import com.sk.util.http.HttpConnection;import com.sk.util.http.HttpConnectionFactory;@Componentpublic class GarantiRequestFactory {	@Autowired	private HttpConnectionFactory connectionFactory;	@Value("${vpos.garanti.url}")	private String garantiVPOSUrl;	@Value("${vpos.garanti.merchant.id}")	private String merchantID;	@Value("${vpos.garanti.terminal.id}")	private String terminalId;	public HttpConnection createRequest(CreditCardPaymentMethod cardPaymentMethod) {		HttpConnection connection = connectionFactory.createConnection(garantiVPOSUrl);		connection.addParameter("marchantId", merchantID);		connection.addParameter("terminal", terminalId);		// add credit card info here.		if (cardPaymentMethod.getCvc().endsWith("0")) {			connection.addParameter("hasError", true);		}		return connection;	}	public void setConnectionFactory(HttpConnectionFactory connectionFactory) {		this.connectionFactory = connectionFactory;	}	public void setGarantiVPOSUrl(String garantiVPOSUrl) {		this.garantiVPOSUrl = garantiVPOSUrl;	}	public void setMerchantID(String merchantID) {		this.merchantID = merchantID;	}	public void setTerminalId(String terminalId) {		this.terminalId = terminalId;	}		}